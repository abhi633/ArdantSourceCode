
@layout ArdantFormLayout

<style>
    .form-check .form-check-input {
        width: 18px !important;
        height: 18px;
        background: #dfdfdf;
    }

    .form-check-input:checked {
        border: 4px solid #0d6efd !important;
    }
</style>
<FormLoader Istrue="@IsloaderShow"></FormLoader>
<EditForm Model="DVAVm" OnValidSubmit="SaveDVAFormData">
    @*   <DataAnnotationsValidator/>
    <ValidationSummary/> *@
    <div class="container" style="margin-top:60px">

        <div class="row justify-content-center">
            <div class="col-md-8 col-sm-12">
                <div class="col-md-12 col-sm-12">
                    <div class="d-flex justify-content-between">
                        <img src="/images/agency-logo.svg" style="width: 348px;" />
                        <h5 class="mt-4">DVA REFERRAL</h5>
                    </div>
                </div>
                <div class="col-md-12 col-sm-10 mt-3" style="border-bottom: 1px solid;"></div>
                <div class="col-md-12 col-sm-10">
                    <p class="text-justify mt-3">
                        This form is for Referral only. If you are seeking prior approval for treatment of a veteran, use Form D1328 – Treatment Prior Financial Approval Request Form. All information requested on this form must be provided. Please complete the patient’s details, including address and date of birth if file number is not known. This form should be used by the referring provider to:
                    </p>
                    <ul>
                        <li>
                            refer directly for treatment services
                        </li>
                        <li>
                            refer directly to another provider where prior approval from DVA is not required.
                        </li>
                    </ul>
                    <p class="text-justify">
                        <b>
                            For detailed information on DVA’s prior approval and other administrative requirements, please refer to the booklet ‘Notes for GPs’, ‘Notes for Allied Health Providers – Section One – General’ or contact DVA by phone. Where bulk referral is appropriate,
                        </b>
                        please send any necessary clinical details directly to the provider. The GP is responsible for checking the eligibility of patients to receive treatment at DVA expense.  White card holders are entitled to receive treatment at DVA expense for their accepted disabilities only. DVA will not be responsible for costs incurred where prior approval requirements are not followed, where ineligible patients are treated, or where a patient is treated by a provider who is not authorised to provide treatment on behalf of DVA. If an indefinite referral to a medical specialist is appropriate for a chronically ill patient, the period of referral may be noted on the form as “ind”. Note this is not applicable for referrals to Allied Health Providers, see information on the Treatment Cycle on page 2.
                    </p>
                </div>

                <div class="col-md-10 col-sm-12 mt-3">
                    <p class="text-danger">@ErrorMessage</p>
                    <DataAnnotationsValidator />
                    <ValidationSummary />
                </div>
                <div class="row justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px"> 1. Referral Type <span class="text-danger">*</span></h5>
                    </div>
                    <div class="col-md-7 d-flex justify-content-evenly">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" value="Specialist" @onchange="AssignReferralType" id="flexRadioDefault1">
                            <label class="form-check-label" for="flexRadioDefault1">
                                Specialist
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" value="Allied Health Provider" @onchange="AssignReferralType" id="flexRadioDefault2">
                            <label class="form-check-label" for="flexRadioDefault2">
                                Allied Health Provider
                            </label>
                        </div>
                    </div>

                </div>
                <div class="row mt-3 justify-content-center">
                    <div class="col-md-10" style="border:1px solid">
                        <h5 class="mb-0"> Patient Details </h5>
                    </div>
                </div>
                <div class="row justify-content-center mt-3">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">2. Surname <span class="text-danger">*</span></h5>
                    </div>
                    <div class="col-md-7 d-flex">

                        <input type="text" class="form-control p-2 dva-form-control " @bind="DVAVm.PatientSurName" id="exampleInputSureName">
                    </div>

                </div>

                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">3. Given name(s) <span class="text-danger">*</span></h5>
                    </div>
                    <div class="col-md-7">
                        <input type="text" class="form-control p-2 dva-form-control" @bind="DVAVm.PatientGivenName" id="exampleInputGivenname">
                    </div>

                </div>
                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">
                            4. DVA file number
                            <span class="text-danger">*</span>
                        </h5>
                    </div>
                    <div class="col-md-7">
                        <input type="text" class="form-control p-2 dva-form-control" @bind="DVAVm.PatientDVAFormNumber" id="exampleInputGivenname">
                    </div>

                </div>

                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">5. Date of birth <span class="text-danger">*</span></h5>
                    </div>
                    <div class="col-md-5">
                        <InputDate class="form-control p-2 dva-form-control" @bind-Value="DVAVm.PateintDOB" />
                    </div>
                    <div class="col-md-2 d-flex gap-2">
                        <label>Age</label>
                        <input type="text" class="form-control p-2 dva-form-control" placeholder="@DVAVm.PatientAge" readonly id="exampleInputAge">
                    </div>

                </div>




                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">6. Address <span class="text-danger">*</span></h5>
                    </div>
                    <div class="col-md-5">
                        <input type="text" class="form-control p-2 dva-form-control " @bind="DVAVm.PatientAddress" id="exampleInputAddress">
                    </div>
                    <div class="col-md-2 d-flex gap-2">
                        <label>PostCode <span class="text-danger">*</span></label>
                        <input type="text" class="form-control p-2 dva-form-control " @bind="DVAVm.PatientPostCode" id="exampleInputPostCode">
                    </div>

                </div>

                <div class="row mt-3 justify-content-center">
                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">7. Email Address <span class="text-danger">*</span></h5>
                    </div>
                    <div class="col-md-7 d-flex">
                        <input type="text" class="form-control p-2 dva-form-control" @bind="DVAVm.PatientEmailAddress" id="exampleInputEmailAddress">
                    </div>
                </div>

                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">8. Phone Number </h5>
                    </div>
                    <div class="col-md-3">
                        <input type="text" class="form-control p-2 dva-form-control" @bind="DVAVm.PatientPhoneNumber" id="exampleInputPhone Number">
                    </div>
                    <div class="col-md-2 ">
                        <h5 class="mb-0 text-right" style="font-size:15px">Mobile Number</h5>
                    </div>
                    <div class="col-md-2 d-flex">
                        <input type="text" class="form-control p-2 dva-form-control " @bind="DVAVm.PatientMobileNumber" id="exampleInputMobileNumber">
                    </div>

                </div>


                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">9. Card Type <span class="text-danger">*</span></h5>
                    </div>

                    <div class="col-md-7 d-flex justify-content-evenly">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="flexRadioDefaultCardType" value="Gold" @onchange="AssignPatientCardType" id="flexRadioDefault3">
                            <label class="form-check-label" for="flexRadioDefault3">
                                Gold
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="flexRadioDefaultCardType" value="White" @onchange="AssignPatientCardType" id="flexRadioDefault4">
                            <label class="form-check-label" for="flexRadioDefault4">
                                White
                            </label>
                        </div>
                    </div>

                </div>


                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">10. Accepted disabilities <span class="text-danger">*</span></h5>
                    </div>
                    <div class="col-md-7">
                        <input type="text" class="form-control p-2 dva-form-control" @bind="DVAVm.PatientAcceptedDisabilities" id="exampleInputAcceptedDis">
                    </div>

                </div>

                <div class="row mt-3 justify-content-center">
                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">11. Referral to</h5>
                    </div>
                    <div class="col-md-7">
                        <h5 class="mb-0 mt-1" style="font-size:15px">Name</h5>
                        <input type="text" class="form-control p-2 dva-form-control" @bind="DVAVm.ReferraltoName" id="exampleInputName">
                    </div>
                </div>

                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                    </div>
                    <div class="col-md-4">
                        <h5 class="mb-0 mt-1" style="font-size:15px">Address</h5>
                        <input type="text" class="form-control p-2 dva-form-control" @bind="DVAVm.ReferraltoAddress" id="exampleInputAddress">
                    </div>
                    <div class="col-md-3">
                        <h5 class="mb-0 mt-1" style="font-size:15px">PostCode</h5>
                        <input type="text" class="form-control p-2 dva-form-control" @bind="DVAVm.ReferraltoPostCode" id="exampleInputPostCode">
                    </div>

                </div>
                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                    </div>
                    <div class="col-md-7">
                        <h5 class="mb-0 mt-1" style="font-size:15px">Email Address</h5>
                        <input type="text" class="form-control p-2 dva-form-control" @bind="DVAVm.ReferraltoEmailAddress" id="exampleInputEmailAddress">
                    </div>

                </div>


                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3"></div>
                    <div class="col-md-4">
                        <h5 class="mb-0 mt-1" style="font-size:15px">Phone Number</h5>
                        <input type="text" class="form-control p-2 dva-form-control " @bind="DVAVm.ReferraltoPhoneNumber" id="exampleInputPhone Number">
                    </div>

                    <div class="col-md-3">
                        <h5 class="mb-0 mt-1" style="font-size:15px">Mobile Number</h5>
                        <input type="text" class="form-control p-2 dva-form-control " @bind="DVAVm.ReferraltoMobileNumber" id="exampleInputMobileNumber">
                    </div>

                </div>

                <div class="row mt-3 justify-content-center">
                    <div class="col-md-3">
                    </div>
                    <div class="col-md-7">
                        <h5 class="mb-0 mt-1" style="font-size:15px">Provider number <span class="fw-normal">(if known)</span></h5>
                        <input type="text" style="width: 69%;" class="form-control p-2 dva-form-control " @bind="DVAVm.ReferraltoProviderNumber" id="exampleInputEmailAddress">
                    </div>

                </div>


                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">12. Condition to be treated</h5>
                    </div>
                    <div class="col-md-7 pe-0">
                        <input type="text" class="form-control p-2 dva-form-control" @bind="DVAVm.ConditionTreated" id="exampleInputCondition">
                    </div>

                </div>

                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">13. Is the patient a resident in a Residential Aged Care Facility?</h5>
                    </div>
                    <div class="col-md-7 justify-content-evenly pe-0">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="flexCheckDefaultResident" id="flexCheckDefault6" @bind="DVAVm.IsPatientResidentialAged">
                            <label class="form-check-label" for="flexCheckDefault6">
                                Yes
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="flexCheckDefaultResident" @bind="DVAVm.IsPatientResidentialAged" id="flexCheckChecked7">
                            <label class="form-check-label" for="flexCheckChecked7">
                                No
                            </label>
                        </div>
                    </div>

                    <lable class="text-center fw-normal">Provide the class of care patient is funded to receive and the date the funding began</lable>
                    <div class="row mt-3 justify-content-center">

                        <div class="col-md-4">
                        </div>
                        <div class="col-md-6">
                            <h5 class="mb-0 mt-1 fw-normal" style="font-size:15px">Class of care</h5>
                            <input type="text" style="width: 85%;" class="form-control p-2 dva-form-control" @bind="DVAVm.CarePatientClass" id="exampleInputCondition">
                        </div>


                    </div>
                    <div class="row mt-3 justify-content-center">
                        <div class="col-md-4 text-right">
                        </div>
                        <div class="col-md-6">
                            <h5 class="mb-0 mt-1 fw-normal" style="font-size:15px">Date funding began </h5>
                            <input type="date" style="width: 77%;" class="form-control p-2 dva-form-control" @bind="DVAVm.CarePatientDateFundingBegan" id="exampleInputCondition">
                        </div>

                    </div>



                </div>



                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">14. Clinical details of condition including recent illnesses, injuries and current medication, if applicable <span class="fw-normal">Attach additional details (if applicable)</span> </h5>
                    </div>
                    <div class="col-md-7 pe-0">
                        <textarea class="form-control" @bind="DVAVm.IsPatientResidentialAged" style="1px solid !important" id="exampleFormControlTextarea1" rows="3"></textarea>
                    </div>

                </div>

                <div class="row mt-3 justify-content-center">

                    <div class="col-md-10 pe-0" style="border: 1px solid;">
                        <h5 class="mb-0 mt-1" style="font-size:15px">Treatment Cycle</h5>
                        <p>
                            From 1 October 2019,new treatment cycle referral arrangements apply.
                            under these arragements an allied health provider may treat a client
                            for up to 12 sessions or one a year, whichever end first. At the end
                            of treatment cycle the allied health provider must report back to the
                            client's usual GP. if further sessions are clinically necessary, the
                            usual GP may provide the client with another referral for an additional
                            12 sessions.<br />
                            Clients may have as many treatment cycles as their usual referring provider
                            determines are clinically necessary. They may also have treatment cycles
                            with multiple types of allied health provider at the same time.<br />
                            In Austrila's health care system, GPs are responsible for ensuring that
                            patient care is well cooridnated and that the care provided remains
                            relevant to the clinical needs of Patient. DVA clients should see their
                            usual GP for treatment cycle referrals.
                        </p>
                    </div>

                </div>

                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">15. Period of referral <span class="fw-normal">Please refer to the information on the Treatment Cycle above</span> </h5>
                    </div>
                    <div class="col-md-7 pe-0">
                        <input type="text" class="form-control p-2 dva-form-control " @bind="DVAVm.PeriodofReferral" id="exampleInputCondition">
                    </div>

                </div>

                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">16. Other treating health providers <span class="fw-normal">(if relevant)</span> </h5>
                    </div>
                    <div class="col-md-7 pe-0">
                        <textarea class="form-control" @bind="@DVAVm.OtherTreatingHealthProviders" style="1px solid !important" id="exampleFormControlTextarea1" rows="3"></textarea>
                    </div>

                </div>

                <div class="row mt-3 justify-content-center">

                    <div class="col-md-10" style="border:1px solid">
                        <h5 class="mb-0">Referring provider details</h5>
                    </div>
                </div>


                <div class="row justify-content-center mt-3">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">17. Provider name <span class="text-danger">*</span></h5>
                    </div>
                    <div class="col-md-7 d-flex">
                        <input type="text" class="form-control p-2 dva-form-control" @bind="DVAVm.ProviderName" id="exampleInputSureName">
                    </div>

                </div>




                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">18. Provider number <span class="text-danger">*</span></h5>
                    </div>
                    <div class="col-md-7">
                        <input type="text" class="form-control p-2 dva-form-control" @bind="DVAVm.ProviderNumber" id="exampleInputGivenname">
                    </div>

                </div>

                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">19. Practice name <span class="text-danger">*</span></h5>
                    </div>
                    <div class="col-md-7">
                        <input type="text" class="form-control p-2 dva-form-control" @bind="DVAVm.ProviderPracticeName" id="exampleInputDateofBirth">
                    </div>
                </div>


                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">20. Practice address <span class="text-danger">*</span></h5>
                    </div>
                    <div class="col-md-4">
                        <input type="text" class="form-control p-2 dva-form-control " @bind="DVAVm.ProviderPracticeAddress" id="exampleInputAddress">
                    </div>
                    <div class="col-md-3 d-flex gap-2">
                        <label>PostCode</label>
                        <input type="text" class="form-control p-2 dva-form-control " @bind="DVAVm.ProviderPostCode" id="exampleInputPostCode">
                    </div>

                </div>


                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">21. Email Address <span class="text-danger">*</span></h5>
                    </div>
                    <div class="col-md-7 d-flex">

                        <input type="text" class="form-control p-2 dva-form-control " @bind="DVAVm.ProviderEmailAddress" id="exampleInputEmailAddress">
                    </div>

                </div>


                <div class="row mt-3 justify-content-center">

                    <div class="col-md-3">
                        <h5 class="mb-0" style="font-size:15px">22. Phone Number <span class="text-danger">*</span></h5>
                    </div>
                    <div class="col-md-3">
                        <input type="text" class="form-control p-2 dva-form-control " @bind="DVAVm.ProviderPhoneNumber" id="exampleInputPhone Number">
                    </div>
                    <div class="col-md-2 ">
                        <h5 class="mb-0 text-right" style="font-size:15px">Fax Number</h5>
                    </div>
                    <div class="col-md-2 d-flex">
                        <input type="text" class="form-control p-2 dva-form-control " @bind="DVAVm.ProviderFaxNumber" id="exampleInputMobileNumber">
                    </div>

                </div>

                @*  <div class="row mt-3 justify-content-center">

                <div class="col-md-2">
                <h5 class="mb-0" style="font-size:15px">23. Provider signature</h5>
                </div>
                <div class="col-md-3 ps-1">
                <textarea class="form-control" @bind="DVAVm.ProviderSignature" style="1px solid !important; height: 55px !important;" id="exampleFormControlTextarea1" rows="3"></textarea>
                </div>
                <div class="col-md-2 ">
                <h5 class="mb-0 text-right" style="font-size:15px">Date <span class="text-danger">*</span></h5>
                </div>
                @*  <div class="col-md-3 d-flex gap-2 pe-1">
                <input type="date" class="form-control p-2 dva-form-control " @bind="DVAVm.ProviderDate" id="exampleInputMobileNumber">
                </div>

                </div> *@

                <div class="row mt-3 justify-content-center">

                    <div class="col-md-10 text-right">
                        @if (IsSpinner)
                        {
                            <button class="btn btn-primary" disabled>
                                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                Submitting...
                            </button>
                        }
                        else
                        {
                            <button type="submit" class="btn bg-gradient-green text-white mb-3" style="font-size: 13px !important;">
                                Submit
                            </button>
                        }

                    </div>


                </div>
            </div>


        </div>

    </div>
</EditForm>









@code {

}
