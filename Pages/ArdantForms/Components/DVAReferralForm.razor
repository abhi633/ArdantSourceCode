@page "/ReferralForm/DVA"
@layout ArdantFormLayout

<style>
    .form-check .form-check-input {
        width: 18px !important;
        height: 18px;
        background: #dfdfdf;
    }

    .form-check-input:checked {
        border: 4px solid #0d6efd !important;
    }

    .container {
        width:60%;
    }
    @@media (max-width: 575.98px) {
        .container {
            width: 100%;
        }
    
    }
</style>
<FormLoader Istrue="@IsloaderShow"></FormLoader>
<EditForm Model="DVAVm" OnValidSubmit="SaveDVAFormData">
    <DataAnnotationsValidator/>
    <div class="container" style="margin-top:60px">
        <div class="row">
            <div class="col-md-6 col-sm-12">
                <img src="/images/agency-logo.svg" style="width: 250px;;" />
            </div>
            <div class="col-md-6 col-sm-12 text-end">
                <h5 class="mt-4">DVA REFERRAL</h5>
            </div>
            <div class="col-md-12 col-sm-12 mt-3" style="border-bottom: 1px solid;"></div>
            <div class="col-md-12 col-sm-12 text-justify mt-3">
                <p class="mt-3">
                    This form is for Referral only. If you are seeking prior approval for treatment of a veteran, use Form D1328 – Treatment Prior Financial Approval Request Form. All information requested on this form must be provided. Please complete the patient’s details, including address and date of birth if file number is not known. This form should be used by the referring provider to:
                <ul>
                    <li>
                        refer directly for treatment services
                    </li>
                    <li>
                        refer directly to another provider where prior approval from DVA is not required.
                    </li>
                </ul>
                
                    <b>
                        For detailed information on DVA’s prior approval and other administrative requirements, please refer to the booklet ‘Notes for GPs’, ‘Notes for Allied Health Providers – Section One – General’ or contact DVA by phone. Where bulk referral is appropriate,
                    </b>
                    please send any necessary clinical details directly to the provider. The GP is responsible for checking the eligibility of patients to receive treatment at DVA expense.  White card holders are entitled to receive treatment at DVA expense for their accepted disabilities only. DVA will not be responsible for costs incurred where prior approval requirements are not followed, where ineligible patients are treated, or where a patient is treated by a provider who is not authorised to provide treatment on behalf of DVA. If an indefinite referral to a medical specialist is appropriate for a chronically ill patient, the period of referral may be noted on the form as “ind”. Note this is not applicable for referrals to Allied Health Providers, see information on the Treatment Cycle on page 2.
                </p>
            </div>

            <div class="col-md-12 col-sm-12 mt-3 d-md-flex gap-md-3">
                <h5 class="mb-0" style="font-size:15px"> Referral Type <span class="text-danger">*</span></h5>
                <InputRadioGroup @bind-Value="DVAVm.ReferralType" Name="flexRadioDefault">
                     <div class="form-check">
                            <InputRadio class="form-check-input" TValue="string" name="flexRadioDefault" id="flexRadioDefault1" value="Specialist" />
                            <label class="form-check-label" for="flexRadioDefault1">Specialist</label>
                        </div>
                    <div class="form-check">
                        <InputRadio class="form-check-input" TValue="string" name="flexRadioDefault" id="flexRadioDefault2" value="Allied Health Provider" />
                        <label class="form-check-label" for="flexRadioDefault2">Allied Health Provider</label>
                    </div>
                </InputRadioGroup>
                <ValidationMessage For="()=> DVAVm.ReferralType" />
            </div>
            <div class="col-md-12 col-sm-12 mt-3">
                <h5 style="color:rgb(20, 18, 149)">Patient Details</h5>
                <div style="border-bottom: 1px solid rgb(20, 18, 149);"></div>
            </div>
            <div class="col-md-6 col-sm-12 mt-3">
                <div class="mb-3">
                    <label for="exampleInputSurname" class="form-label">Surname <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" @bind="DVAVm.PatientSurName" id="exampleInputSureName">
                    <ValidationMessage For="()=> DVAVm.PatientSurName" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12 mt-3">
                <div class="mb-3">
                    <label for="exampleInputgivenname" class="form-label">Given name(s) <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" @bind="DVAVm.PatientGivenName" id="exampleInputgivenname">
                    <ValidationMessage For="()=> DVAVm.ReferralType" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputdvafileno" class="form-label">DVA file number <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" @bind="DVAVm.PatientDVAFormNumber" id="exampleInputdvafileno">
                    <ValidationMessage For="()=> DVAVm.PatientDVAFormNumber" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputdob" class="form-label">Date of birth <span class="text-danger">*</span></label>
                    <RadzenDatePicker @bind-Value="@DVAVm.PateintDOB" class="valid" Style="height:38px !important;" ShowTime="false" DateFormat="dd-MMM-yyyy" />
                    <ValidationMessage For="()=> DVAVm.PateintDOB" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputage" class="form-label">Age</label>
                    <input type="text" class="form-control" placeholder="@DVAVm.PatientAge" readonly id="exampleInputage">
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputaddress" class="form-label">Address <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" @bind="DVAVm.PatientAddress" id="exampleInputaddress">
                    <ValidationMessage For="()=> DVAVm.PatientAddress" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputpostcode" class="form-label">PostCode <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" @bind="DVAVm.PatientPostCode" id="exampleInputpostcode">
                    <ValidationMessage For="()=> DVAVm.PatientPostCode" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputemail" class="form-label">Email Address <span class="text-danger">*</span></label>
                    <input type="email" class="form-control" @bind="DVAVm.PatientEmailAddress" id="exampleInputemail">
                    <ValidationMessage For="()=> DVAVm.PatientEmailAddress" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputphoneno" class="form-label">Phone Number <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" @bind="DVAVm.PatientPhoneNumber" id="exampleInputphoneno">
                    <ValidationMessage For="()=> DVAVm.PatientPhoneNumber" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputmobileno" class="form-label">Mobile Number</label>
                    <input type="text" class="form-control" @bind="DVAVm.PatientMobileNumber" id="exampleInputmobileno">
                </div>
            </div>
            <div class="col-md-12 col-sm-12 mt-3 d-md-flex gap-md-3">
                <h5 class="mb-0" style="font-size:15px"> Card Type <span class="text-danger">*</span></h5>
                <InputRadioGroup @bind-Value="DVAVm.PatientCardType" Name="flexRadiocardtype">
                    <div class="form-check">
                        <InputRadio class="form-check-input" TValue="string" name="flexRadiocardtype" id="flexRadioDefault3" value="Gold" />
                        <label class="form-check-label" for="flexRadioDefault3">Specialist</label>
                    </div>
                    <div class="form-check">
                        <InputRadio class="form-check-input" TValue="string" name="flexRadiocardtype" id="flexRadioDefault4" value="White" />
                        <label class="form-check-label" for="flexRadioDefault4">Allied Health Provider</label>
                    </div>
                </InputRadioGroup>
                <ValidationMessage For="()=> DVAVm.PatientCardType" />
            </div>
            <div class="col-md-12 col-sm-12 mt-3">
                <div class="mb-3">
                    <label for="exampleInputaccepteddisabilities" class="form-label">Accepted disabilities <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" @bind="DVAVm.PatientAcceptedDisabilities" id="exampleInputaccepteddisabilities">
                    <ValidationMessage For="()=> DVAVm.PatientAcceptedDisabilities" />
                </div>
            </div>
            <div class="col-md-12 col-sm-12">
                <h5 style="color:rgb(20, 18, 149)">Referral To</h5>
                <div style="border-bottom: 1px solid rgb(20, 18, 149);"></div>
            </div>
            <div class="col-md-6 col-sm-12 mt-3">
                <div class="mb-3">
                    <label for="exampleInputrefname" class="form-label">Name </label>
                    <input type="text" class="form-control" @bind="DVAVm.ReferraltoName" id="exampleInputrefname">
                </div>
            </div>
            <div class="col-md-6 col-sm-12 mt-3">
                <div class="mb-3">
                    <label for="exampleInputrefaddress" class="form-label">Address</label>
                    <input type="text" class="form-control" @bind="DVAVm.ReferraltoAddress" id="exampleInputrefaddress">
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputrefpostcode" class="form-label">PostCode</label>
                    <input type="text" class="form-control" @bind="DVAVm.ReferraltoPostCode" id="exampleInputrefpostcode">
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputrefemailaddress" class="form-label">Email Address</label>
                    <input type="email" class="form-control" @bind="DVAVm.ReferraltoEmailAddress" id="exampleInputrefemailaddress">
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputrefphoneno" class="form-label">Phone Number</label>
                    <input type="text" class="form-control" @bind="DVAVm.ReferraltoPhoneNumber" id="exampleInputrefphoneno">
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputrefmobileno" class="form-label">Mobile Number</label>
                    <input type="text" class="form-control" @bind="DVAVm.ReferraltoMobileNumber" id="exampleInputrefmobileno">
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputrefproviderno" class="form-label">Provider number (if known)</label>
                    <input type="text" class="form-control" @bind="DVAVm.ReferraltoProviderNumber" id="exampleInputrefproviderno">
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputcondition" class="form-label">Condition to be treated <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" @bind="DVAVm.ConditionTreated" id="exampleInputcondition">
                    <ValidationMessage For="()=> DVAVm.ConditionTreated" />
                </div>
            </div>
            <div class="col-md-12 col-sm-12 mt-3 d-md-flex gap-md-3">
                <h5 class="mb-0" style="font-size:15px"> Is the patient a resident in a Residential Aged Care Facility? <span class="text-danger">*</span></h5>
                <InputRadioGroup @bind-Value="DVAVm.IsPatientResidentialAged" Name="flexRadioagedcare">
                    <div class="form-check">
                        <InputRadio class="form-check-input" TValue="string" name="flexRadioagedcare" id="flexRadioDefault5" value="true" />
                        <label class="form-check-label" for="flexRadioDefault5">Yes</label>
                    </div>
                    <div class="form-check">
                        <InputRadio class="form-check-input" TValue="string" name="flexRadioagedcare" id="flexRadioDefault6" value="false" />
                        <label class="form-check-label" for="flexRadioDefault6">No</label>
                    </div>
                </InputRadioGroup>
            </div>
            @if (DVAVm.IsPatientResidentialAged)
            {
                <div class="col-md-6 col-sm-12">
                    <div class="mb-3">
                        <label for="exampleInputcareclass" class="form-label">Class of care</label>
                        <input type="text" class="form-control" @bind="DVAVm.CarePatientClass" id="exampleInputcareclass">
                    </div>
                </div>
                <div class="col-md-6 col-sm-12">
                    <div class="mb-3">
                        <label for="exampleInputdatefunding" class="form-label">Date funding began</label>
                        <RadzenDatePicker @bind-Value="@DVAVm.CarePatientDateFundingBegan" class="valid" Style="height:38px !important;" ShowTime="false" DateFormat="dd-MMM-yyyy" />
                    </div>
                </div>
            }
            <div class="col-md-12 col-sm-12 mt-3">
                <label for="exampleInputillnesses" class="form-label">Clinical details of condition including recent illnesses, injuries and current medication, if applicable Attach additional details (if applicable)</label>
                <textarea class="form-control" @bind="DVAVm.IsPatientResidentialAged" id="exampleInputillnesses" rows="3"></textarea>
            </div>
            <div class="col-md-12 col-sm-12 text-justify mt-3">
                <h5 class="mb-0 mt-1" style="font-size:15px">Treatment Cycle</h5>
                <p>
                    From 1 October 2019,new treatment cycle referral arrangements apply.
                    under these arragements an allied health provider may treat a client
                    for up to 12 sessions or one a year, whichever end first. At the end
                    of treatment cycle the allied health provider must report back to the
                    client's usual GP. if further sessions are clinically necessary, the
                    usual GP may provide the client with another referral for an additional
                    12 sessions.<br />
                    Clients may have as many treatment cycles as their usual referring provider
                    determines are clinically necessary. They may also have treatment cycles
                    with multiple types of allied health provider at the same time.<br />
                    In Austrila's health care system, GPs are responsible for ensuring that
                    patient care is well cooridnated and that the care provided remains
                    relevant to the clinical needs of Patient. DVA clients should see their
                    usual GP for treatment cycle referrals.
                </p>
            </div>
            <div class="col-md-12 col-sm-12 mt-3">
                <label for="exampleInputtreatmentcycle" class="form-label">Period of referral Please refer to the information on the Treatment Cycle above</label>
                <input type="text" class="form-control" @bind="DVAVm.PeriodofReferral" id="exampleInputtreatmentcycle">
            </div>
            <div class="col-md-12 col-sm-12 mt-3">
                <label for="exampleInputhealthprovider" class="form-label">Other treating health providers (if relevant)</label>
                <textarea class="form-control" @bind="DVAVm.OtherTreatingHealthProviders" id="exampleInputhealthprovider" rows="3"></textarea>
            </div>
            <div class="col-md-12 col-sm-12 mt-3">
                <h5 style="color:rgb(20, 18, 149)">Referring Provider Details</h5>
                <div style="border-bottom: 1px solid rgb(20, 18, 149);"></div>
            </div>
            <div class="col-md-6 col-sm-1 mt-3">
                <div class="mb-3">
                    <label for="exampleInputprovidername" class="form-label">Provider Name <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" @bind="DVAVm.ProviderName" id="exampleInputprovidername">
                    <ValidationMessage For="()=> DVAVm.ProviderName" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12 mt-3">
                <div class="mb-3">
                    <label for="exampleInputprovidernumber" class="form-label">Provider Number <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" @bind="DVAVm.ProviderNumber" id="exampleInputprovidernumber">
                    <ValidationMessage For="()=> DVAVm.ProviderNumber" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputpracticename" class="form-label">Practice Name <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" @bind="DVAVm.ProviderPracticeName" id="exampleInputpracticename">
                    <ValidationMessage For="()=> DVAVm.ProviderPracticeName" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputpracticeaddress" class="form-label">Practice Address <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" @bind="DVAVm.ProviderPracticeAddress" id="exampleInputpracticeaddress">
                    <ValidationMessage For="()=> DVAVm.ProviderPracticeAddress" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputproviderps" class="form-label">PostCode <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" @bind="DVAVm.ProviderPostCode" id="exampleInputproviderps">
                    <ValidationMessage For="()=> DVAVm.ProviderPostCode" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputprovideremail" class="form-label">Email Address <span class="text-danger">*</span></label>
                    <input type="email" class="form-control" @bind="DVAVm.ProviderEmailAddress" id="exampleInputprovideremail">
                    <ValidationMessage For="()=> DVAVm.ProviderEmailAddress" />
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputproviderphone" class="form-label">Phone Number</label>
                    <input type="text" class="form-control" @bind="DVAVm.ProviderPhoneNumber" id="exampleInputproviderphone">
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label for="exampleInputproviderfax" class="form-label">Fax Number</label>
                    <input type="text" class="form-control" @bind="DVAVm.ProviderFaxNumber" id="exampleInputproviderfax">
                </div>
            </div>
            <div class="col-md-12 col-sm-12 text-right">
                <button type="button" class="btn btn-secondary mb-3" style="font-size: 15px;">
                    Clear
                </button>
                <button type="submit" class="btn bg-gradient-green text-white mb-3" style="font-size: 13px !important;">
                    Submit
                </button>
            </div>
        </div>
      
    </div>
</EditForm>



   





@code {

}
